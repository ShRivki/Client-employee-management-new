{"version":3,"file":"static/js/425.f0392b43.chunk.js","mappings":"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","sources":["Employee/EmployeeList.js","services/employeeService.js","../node_modules/file-saver/src/FileSaver.js"],"sourcesContent":["import React, { useState, useEffect, useRef } from \"react\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { Outlet, useNavigate } from \"react-router-dom\";\r\nimport { useLocation } from \"react-router-dom\";\r\nimport { getEmployee, FindEmployee, deleteEmployee } from '../services/employeeService';\r\nimport { saveAs } from 'file-saver';\r\nimport '../App.css';\r\n\r\nexport function formatDateString(dateString) {\r\n    const formattedDate = new Date(dateString).toLocaleDateString();\r\n    return formattedDate;\r\n}\r\n\r\nconst EmployeeList = ({ user, employees }) => {\r\n    const [filter, setFilter] = useState(\"\");\r\n    const lastSearchTerm = useRef(null);\r\n    const navigate = useNavigate();\r\n    const dispatch = useDispatch();\r\n\r\n    useEffect(() => {\r\n        dispatch(getEmployee(user))\r\n    }, []);\r\n\r\n    useEffect(() => {\r\n        const timer = setTimeout(() => {\r\n            if (filter === lastSearchTerm.current) {\r\n                setTimeout(() => {\r\n                    if (filter !== \"\")\r\n                        dispatch(FindEmployee(user, filter))\r\n                    else\r\n                        dispatch(getEmployee(user))\r\n                }, 500);\r\n            }\r\n        }, 500);\r\n        return () => clearTimeout(timer);\r\n    }, [filter]);\r\n\r\n    const handleChange = (e) => {\r\n        setFilter(e.target.value);\r\n        lastSearchTerm.current = e.target.value;\r\n    };\r\n\r\n    const handleExport = () => {\r\n        const csvContent = employees.map(e => [e.firstName, e.lastName, e.identity, e.startDate].join(\",\")).join(\"\\n\");\r\n        const csvBlob = new Blob([csvContent], { type: 'text/csv;charset=utf-8' });\r\n        saveAs(csvBlob, 'employees.csv');\r\n    };\r\n\r\n    const printEmployee = (employee) => {\r\n        return (\r\n            <tr key={employee.id}>\r\n                <td>{employee.firstName}</td>\r\n                <td>{employee.lastName}</td>\r\n                <td>{employee.identity}</td>\r\n                <td>{formatDateString(employee.startDate)}</td>\r\n                <td>\r\n                    <button className=\"button but\" disabled={localStorage.getItem('isDirector') == \"false\" && user.id == employee.id} onClick={() => {\r\n                        navigate(\"AddEmployee\", { state: employee });\r\n                    }}>\r\n                        <i className=\"edit outline icon\"></i>\r\n                    </button>\r\n                </td>\r\n                <td>\r\n                    <button className=\"button but\" disabled={user.id == employee.id} onClick={() => {\r\n                        dispatch(deleteEmployee(employee.id));\r\n                    }}>\r\n                        <i className=\"trash alternate icon\"></i>\r\n                    </button>\r\n                </td>\r\n                <td>\r\n                    <button className=\"button but\" onClick={() => {\r\n                        navigate(\"EmployeeDetails\", { state: employee });\r\n                    }}>\r\n                        <i className=\"sidebar icon \"></i>\r\n                    </button>\r\n                </td>\r\n            </tr>\r\n        );\r\n    };\r\n\r\n    return (\r\n        <>\r\n            <div className=\"ui rigth icon input\">\r\n                <input type=\"text\" placeholder=\"Search...\" value={filter} onChange={handleChange} />\r\n                <i className=\"search icon\"></i>\r\n            </div>\r\n            <button className=\"button\" onClick={handleExport}><i className=\"file excel icon\"></i> Export CSV</button>\r\n            <button className=\"button\" onClick={() => window.print()}><i className=\"print icon\"></i> Print</button>\r\n            <button className=\"button\" onClick={() => navigate('AddEmployee')}><i className=\"add user icon\"></i> Add Employee </button>\r\n            <div id=\"taitel\" className=\"ui horizontal divider header \" style={{ fontSize: '24px', color: \"rgb(19 23 122)\" }}>Employees </div>\r\n            <br />\r\n            <div className=\"ui special cards printable-content\">\r\n                <table className=\"ui blue table \">\r\n                    <thead>\r\n                        <tr>\r\n                            <th>firstName</th>\r\n                            <th>lastName</th>\r\n                            <th>identity</th>\r\n                            <th>startDate</th>\r\n                            <th>edit</th>\r\n                            <th>-</th>\r\n                            <th>details</th>\r\n                        </tr>\r\n                    </thead>\r\n                    <tbody>\r\n                        <Outlet />\r\n                        {employees?.map((employee) =>\r\n                            printEmployee(employee))}\r\n                    </tbody>\r\n                </table>\r\n            </div>\r\n        </>\r\n    );\r\n};\r\n\r\nexport default () => {\r\n    const { state } = useLocation();\r\n    const { user, employees } = useSelector(state => ({\r\n        user: state.User.user,\r\n        employees: state.Employee.employees\r\n    }));\r\n\r\n    return <EmployeeList user={user} employees={employees} />;\r\n};\r\n","import * as actionType from '../store/actions';\r\nimport axios from \"axios\";\r\nimport Swal from \"sweetalert2\";\r\n\r\nconst URL = 'https://localhost:7079/api/Employee';\r\n\r\nconst filterEmployeesByManagementRole = (user, employees) => {\r\n    if (localStorage.getItem('isDirector') === \"true\")\r\n        return employees;\r\n    const userManagementRoles = user.roles.filter(role => role.isManagement);\r\n    if (userManagementRoles.length === 0) {\r\n        return [];\r\n    }\r\n    const filteredEmployees = employees.filter(employee => {\r\n        return userManagementRoles.some(userRole => {\r\n            return employee.roles.some(role => {\r\n                return role.role.id === userRole.role.id || user.id === employee.id;\r\n            });\r\n        });\r\n    });\r\n    return filteredEmployees;\r\n}\r\n\r\nexport const getEmployee = (user) => {\r\n    return async dispatch => {\r\n        try {\r\n            const res = await axios.get(URL);\r\n            const filteredEmployees = filterEmployeesByManagementRole(user, res.data);\r\n            dispatch({ type: actionType.GET_EMPLOYEES, data: filteredEmployees });\r\n        } catch (error) {\r\n            console.error(error);\r\n        }\r\n    }\r\n}\r\n\r\nexport const FindEmployee = (user, name) => {\r\n    return async dispatch => {\r\n        try {\r\n            const res = await axios.get(`${URL}/name=${name}`);\r\n            const filteredEmployees = filterEmployeesByManagementRole(user, res.data);\r\n            dispatch({ type: actionType.GET_EMPLOYEES, data: filteredEmployees });\r\n        } catch (error) {\r\n            console.error(error);\r\n        }\r\n    }\r\n}\r\n\r\nexport const deleteEmployee = (EmployeeId) => {\r\n    return async dispatch => {\r\n        try {\r\n            await axios.delete(`${URL}/${EmployeeId}`);\r\n            Swal.fire({\r\n                position: \"top\",\r\n                icon: \"success\",\r\n                title: \"The employee has been marked as inactive\",\r\n                showConfirmButton: false,\r\n                timer: 1000\r\n            });\r\n            dispatch({ type: actionType.DELETE_EMPLOYEE, data: EmployeeId });\r\n        } catch (error) {\r\n            Swal.fire({\r\n                icon: \"error\",\r\n                title: \"Oops...\",\r\n                text: \"Error deleting employee\",\r\n                footer: '<a href=\"#\">Back to adding an employee?/a>'\r\n            });\r\n        }\r\n    }\r\n}\r\n\r\nexport const addEmployee = (data) => {\r\n    return async dispatch => {\r\n        try {\r\n            const res = await axios.post(URL, data);\r\n            dispatch({ type: actionType.ADD_EMPLOYEE, data: res.data });\r\n            Swal.fire({\r\n                position: \"top\",\r\n                icon: \"success\",\r\n                title: \"The employee was successfully added\",\r\n                showConfirmButton: false,\r\n                timer: 1500\r\n            });\r\n        } catch (error) {\r\n            Swal.fire({\r\n                icon: \"error\",\r\n                title: \"Oops...\",\r\n                text: \"Adding employee failed\",\r\n                footer: '<a href=\"#\">Back to adding an employee?</a>'\r\n            });\r\n        }\r\n    }\r\n}\r\n\r\nexport const editEmployee = (data) => {\r\n    return async dispatch => {\r\n        try {\r\n            const res = await axios.put(`${URL}/${data.Id}`, { ...data });\r\n            dispatch({ type: actionType.EDIT_EMPLOYEE, data: res.data });\r\n            Swal.fire({\r\n                position: \"top\",\r\n                icon: \"success\",\r\n                title: \"The employee details have been updated successfully\",\r\n                showConfirmButton: false,\r\n                timer: 1500\r\n            });\r\n        } catch (error) {\r\n            Swal.fire({\r\n                icon: \"error\",\r\n                title: \"Oops...\",\r\n                text: \"Error editing employee\",\r\n                footer: '<a href=\"#\">Back to employees/a>'\r\n            });\r\n        }\r\n    }\r\n}\r\n","/*\n* FileSaver.js\n* A saveAs() FileSaver implementation.\n*\n* By Eli Grey, http://eligrey.com\n*\n* License : https://github.com/eligrey/FileSaver.js/blob/master/LICENSE.md (MIT)\n* source  : http://purl.eligrey.com/github/FileSaver.js\n*/\n\n// The one and only way of getting global scope in all environments\n// https://stackoverflow.com/q/3277182/1008999\nvar _global = typeof window === 'object' && window.window === window\n  ? window : typeof self === 'object' && self.self === self\n  ? self : typeof global === 'object' && global.global === global\n  ? global\n  : this\n\nfunction bom (blob, opts) {\n  if (typeof opts === 'undefined') opts = { autoBom: false }\n  else if (typeof opts !== 'object') {\n    console.warn('Deprecated: Expected third argument to be a object')\n    opts = { autoBom: !opts }\n  }\n\n  // prepend BOM for UTF-8 XML and text/* types (including HTML)\n  // note: your browser will automatically convert UTF-16 U+FEFF to EF BB BF\n  if (opts.autoBom && /^\\s*(?:text\\/\\S*|application\\/xml|\\S*\\/\\S*\\+xml)\\s*;.*charset\\s*=\\s*utf-8/i.test(blob.type)) {\n    return new Blob([String.fromCharCode(0xFEFF), blob], { type: blob.type })\n  }\n  return blob\n}\n\nfunction download (url, name, opts) {\n  var xhr = new XMLHttpRequest()\n  xhr.open('GET', url)\n  xhr.responseType = 'blob'\n  xhr.onload = function () {\n    saveAs(xhr.response, name, opts)\n  }\n  xhr.onerror = function () {\n    console.error('could not download file')\n  }\n  xhr.send()\n}\n\nfunction corsEnabled (url) {\n  var xhr = new XMLHttpRequest()\n  // use sync to avoid popup blocker\n  xhr.open('HEAD', url, false)\n  try {\n    xhr.send()\n  } catch (e) {}\n  return xhr.status >= 200 && xhr.status <= 299\n}\n\n// `a.click()` doesn't work for all browsers (#465)\nfunction click (node) {\n  try {\n    node.dispatchEvent(new MouseEvent('click'))\n  } catch (e) {\n    var evt = document.createEvent('MouseEvents')\n    evt.initMouseEvent('click', true, true, window, 0, 0, 0, 80,\n                          20, false, false, false, false, 0, null)\n    node.dispatchEvent(evt)\n  }\n}\n\n// Detect WebView inside a native macOS app by ruling out all browsers\n// We just need to check for 'Safari' because all other browsers (besides Firefox) include that too\n// https://www.whatismybrowser.com/guides/the-latest-user-agent/macos\nvar isMacOSWebView = _global.navigator && /Macintosh/.test(navigator.userAgent) && /AppleWebKit/.test(navigator.userAgent) && !/Safari/.test(navigator.userAgent)\n\nvar saveAs = _global.saveAs || (\n  // probably in some web worker\n  (typeof window !== 'object' || window !== _global)\n    ? function saveAs () { /* noop */ }\n\n  // Use download attribute first if possible (#193 Lumia mobile) unless this is a macOS WebView\n  : ('download' in HTMLAnchorElement.prototype && !isMacOSWebView)\n  ? function saveAs (blob, name, opts) {\n    var URL = _global.URL || _global.webkitURL\n    var a = document.createElement('a')\n    name = name || blob.name || 'download'\n\n    a.download = name\n    a.rel = 'noopener' // tabnabbing\n\n    // TODO: detect chrome extensions & packaged apps\n    // a.target = '_blank'\n\n    if (typeof blob === 'string') {\n      // Support regular links\n      a.href = blob\n      if (a.origin !== location.origin) {\n        corsEnabled(a.href)\n          ? download(blob, name, opts)\n          : click(a, a.target = '_blank')\n      } else {\n        click(a)\n      }\n    } else {\n      // Support blobs\n      a.href = URL.createObjectURL(blob)\n      setTimeout(function () { URL.revokeObjectURL(a.href) }, 4E4) // 40s\n      setTimeout(function () { click(a) }, 0)\n    }\n  }\n\n  // Use msSaveOrOpenBlob as a second approach\n  : 'msSaveOrOpenBlob' in navigator\n  ? function saveAs (blob, name, opts) {\n    name = name || blob.name || 'download'\n\n    if (typeof blob === 'string') {\n      if (corsEnabled(blob)) {\n        download(blob, name, opts)\n      } else {\n        var a = document.createElement('a')\n        a.href = blob\n        a.target = '_blank'\n        setTimeout(function () { click(a) })\n      }\n    } else {\n      navigator.msSaveOrOpenBlob(bom(blob, opts), name)\n    }\n  }\n\n  // Fallback to using FileReader and a popup\n  : function saveAs (blob, name, opts, popup) {\n    // Open a popup immediately do go around popup blocker\n    // Mostly only available on user interaction and the fileReader is async so...\n    popup = popup || open('', '_blank')\n    if (popup) {\n      popup.document.title =\n      popup.document.body.innerText = 'downloading...'\n    }\n\n    if (typeof blob === 'string') return download(blob, name, opts)\n\n    var force = blob.type === 'application/octet-stream'\n    var isSafari = /constructor/i.test(_global.HTMLElement) || _global.safari\n    var isChromeIOS = /CriOS\\/[\\d]+/.test(navigator.userAgent)\n\n    if ((isChromeIOS || (force && isSafari) || isMacOSWebView) && typeof FileReader !== 'undefined') {\n      // Safari doesn't allow downloading of blob URLs\n      var reader = new FileReader()\n      reader.onloadend = function () {\n        var url = reader.result\n        url = isChromeIOS ? url : url.replace(/^data:[^;]*;/, 'data:attachment/file;')\n        if (popup) popup.location.href = url\n        else location = url\n        popup = null // reverse-tabnabbing #460\n      }\n      reader.readAsDataURL(blob)\n    } else {\n      var URL = _global.URL || _global.webkitURL\n      var url = URL.createObjectURL(blob)\n      if (popup) popup.location = url\n      else location.href = url\n      popup = null // reverse-tabnabbing #460\n      setTimeout(function () { URL.revokeObjectURL(url) }, 4E4) // 40s\n    }\n  }\n)\n\n_global.saveAs = saveAs.saveAs = saveAs\n\nif (typeof module !== 'undefined') {\n  module.exports = saveAs;\n}\n"],"names":["formatDateString","dateString","Date","toLocaleDateString","EmployeeList","_ref","user","employees","filter","setFilter","useState","lastSearchTerm","useRef","navigate","useNavigate","dispatch","useDispatch","useEffect","getEmployee","timer","setTimeout","current","FindEmployee","clearTimeout","_jsxs","_Fragment","children","className","_jsx","type","placeholder","value","onChange","e","target","onClick","handleExport","csvContent","map","firstName","lastName","identity","startDate","join","csvBlob","Blob","saveAs","window","print","id","style","fontSize","color","Outlet","employee","disabled","localStorage","getItem","state","deleteEmployee","printEmployee","useLocation","useSelector","User","Employee","URL","filterEmployeesByManagementRole","userManagementRoles","roles","role","isManagement","length","some","userRole","async","res","axios","get","filteredEmployees","data","actionType","error","console","name","concat","EmployeeId","delete","Swal","position","icon","title","showConfirmButton","text","footer","addEmployee","post","editEmployee","put","Id","b","a","autoBom","warn","test","c","d","XMLHttpRequest","open","responseType","onload","g","response","onerror","send","status","dispatchEvent","MouseEvent","document","createEvent","initMouseEvent","f","self","global","navigator","userAgent","HTMLAnchorElement","prototype","h","i","webkitURL","j","createElement","download","rel","href","origin","location","createObjectURL","revokeObjectURL","msSaveOrOpenBlob","body","innerText","HTMLElement","safari","FileReader","k","onloadend","result","replace","readAsDataURL","l","m","module","exports"],"sourceRoot":""}