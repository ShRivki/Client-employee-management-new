{"version":3,"file":"static/js/894.e17152cb.chunk.js","mappings":"mKAIA,aACI,MAAMA,GAAWC,EAAAA,EAAAA,MACXC,GAAWC,EAAAA,EAAAA,MAIjB,OAHAC,EAAAA,EAAAA,YAAU,KACNF,GAASG,EAAAA,EAAAA,IAAOL,GAAU,GAC3B,IACI,IACV,C,iFCPD,MAAMM,EAAM,sCAECC,EAAQA,CAACC,EAAMR,IACjBS,UACH,IACI,MACMC,SADiBC,EAAAA,EAAMC,KAAK,GAADC,OAAIP,EAAG,UAAU,CAAEQ,KAAMN,EAAKO,SAAUC,SAAUR,EAAKQ,YAClER,KAEtBN,EAAS,CAAEe,KAAMC,EAAAA,GAAmBR,SACpCS,aAAaC,QAAQ,OAAQC,KAAKC,UAAUZ,IAC5C,MAAMa,EAAab,EAAKc,MAAMC,MAAKC,GAA2B,aAAnBA,EAAKA,KAAKC,OACrDR,aAAaC,QAAQ,aAAcG,EAAa,OAAS,SACzDvB,EAAS,KAET4B,IAAAA,KAAU,CACNC,SAAU,MACVC,MAAM,GAADjB,OAAKH,EAAKqB,UAAS,cACxBC,mBAAmB,EACnBC,MAAO,OAGXC,YAAW,WACPC,OAAOC,SAASC,QACpB,GAAG,KACP,CAAE,MAAOC,GACLC,QAAQC,IAAIF,EAAMG,SAElBb,IAAAA,KAAU,CACNC,SAAU,MACVC,MAAM,wCAADjB,OAA0CyB,EAAMG,SACrDT,mBAAmB,EACnBC,MAAO,MAEf,GAIK5B,EAAUL,GACZE,IACH0B,IAAAA,KAAU,CACNE,MAAO,UACPY,kBAAkB,EAClBC,gBAAgB,EAChBC,kBAAmB,SACnBC,iBAAkB,WACnBC,MAAMC,IACDA,EAAEC,cACF9C,EAAS,CAAEe,KAAMC,EAAAA,KACjBU,IAAAA,KAAU,CACNE,MAAO,UAAWE,mBAAmB,EACrCC,MAAO,OAGfjC,EAAS,YAAY,GACvB,C","sources":["User/LogOut.js","services/userService.js"],"sourcesContent":["import { useEffect } from 'react'\r\nimport { logOut } from '../services/userService'\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport { useDispatch } from \"react-redux\";\r\nexport default () => {\r\n    const navigate = useNavigate();\r\n    const dispatch = useDispatch();\r\n    useEffect(() => {\r\n        dispatch(logOut(navigate))\r\n    }, []);\r\n    return null;\r\n}\r\n","import axios from \"axios\";\r\nimport Swal from \"sweetalert2\";\r\nimport * as actionType from '../store/actions';\r\n\r\nconst URL = 'https://localhost:7079/api/Employee';\r\n\r\nexport const logIn = (data, navigate) => {\r\n    return async dispatch => {\r\n        try {\r\n            const response = await axios.post(`${URL}/Login`, { Name: data.UserName, Password: data.Password });\r\n            const user = response.data;\r\n\r\n            dispatch({ type: actionType.LOG_IN, user });\r\n            localStorage.setItem(\"user\", JSON.stringify(user));\r\n            const isDirector = user.roles.some(role => role.role.name === \"Director\");\r\n            localStorage.setItem(\"isDirector\", isDirector ? \"true\" : \"false\");\r\n            navigate(\"/\");\r\n\r\n            Swal.fire({\r\n                position: \"top\",\r\n                title: `${user.firstName} Hello to `,\r\n                showConfirmButton: false,\r\n                timer: 1500\r\n            });\r\n\r\n            setTimeout(function() {\r\n                window.location.reload();\r\n            }, 1300);\r\n        } catch (error) {\r\n            console.log(error.message);\r\n\r\n            Swal.fire({\r\n                position: \"top\",\r\n                title: `You are not registered in the system ${error.message}`,\r\n                showConfirmButton: false,\r\n                timer: 1500\r\n            });\r\n        }\r\n    };\r\n};\r\n\r\nexport const logOut = (navigate) => {\r\n    return dispatch => {\r\n        Swal.fire({\r\n            title: \"Oops...\",\r\n            showCancelButton: true,\r\n            showDenyButton: false,\r\n            confirmButtonText: \"go out\",\r\n            cancelButtonText: \"cancel\",\r\n        }).then((r) => {\r\n            if (r.isConfirmed) {\r\n                dispatch({ type: actionType.LOG_OUT });\r\n                Swal.fire({\r\n                    title: \"By By:)\", showConfirmButton: false,\r\n                    timer: 800\r\n                });\r\n            }\r\n            navigate(\"/HomePage\")\r\n        });\r\n    };\r\n};\r\n\r\nexport const signIn = (data, navigate) => {\r\n    return async dispatch => {\r\n        try {\r\n            const response = await axios.post(URL, data);\r\n            const user = response.data;\r\n\r\n            dispatch({ type: actionType.LOG_IN, user });\r\n            Swal.fire({\r\n                position: \"top\",\r\n                title: `${user.Name} The employee was successfully added`,\r\n                showConfirmButton: false,\r\n                timer: 1500\r\n            });\r\n            navigate(\"/\");\r\n        } catch (error) {\r\n            Swal.fire({\r\n                position: \"top\",\r\n                title: \"This employee is registered in the system!\",\r\n                showConfirmButton: false,\r\n                timer: 1500\r\n            });\r\n            navigate(\"/HomePage\");\r\n        }\r\n    };\r\n};\r\n"],"names":["navigate","useNavigate","dispatch","useDispatch","useEffect","logOut","URL","logIn","data","async","user","axios","post","concat","Name","UserName","Password","type","actionType","localStorage","setItem","JSON","stringify","isDirector","roles","some","role","name","Swal","position","title","firstName","showConfirmButton","timer","setTimeout","window","location","reload","error","console","log","message","showCancelButton","showDenyButton","confirmButtonText","cancelButtonText","then","r","isConfirmed"],"sourceRoot":""}